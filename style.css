/* ---------- BASIC STYLING ---------- */
.entry img { width:auto; max-width:960px; height:auto; }
header h1 { cursor:pointer; transition:.2s; }
header h1:hover { color:var(--primary-light); text-decoration:underline; }

/* ---------- THEME ---------- */
:root{
  --primary:#0b3a6e; --primary-light:#2f6fb2;
  --accent:#2ecc71; --bg:#f5f7fa;
  --card:#ffffff; --border:#e2e6ea;
  --text:#1f2933; --muted:#6b7280;
}
*{box-sizing:border-box;}
body{margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:var(--bg); color:var(--text);}

/* ---------- HEADER ---------- */
header{background:#fff; border-bottom:1px solid var(--border); padding:20px 24px;}
header h1{margin:0; font-size:1.4rem; color:var(--primary);}

/* ---------- PROGRESS ---------- */
.progress-wrap{max-width:960px; margin:20px auto; padding:0 16px;}
.progress-bar{background:#e5e7eb; height:14px; border-radius:999px; overflow:hidden;}
.progress-fill{height:100%; width:0%; background:linear-gradient(90deg,var(--accent),#6ee7b7); transition:.4s;}
.progress-label{text-align:right; font-size:.85rem; color:var(--muted); margin-top:6px;}

/* ---------- MONTH GRID ---------- */
.months{max-width:960px; margin:24px auto; padding:0 16px; display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:20px;}
.month{padding:28px 12px; background:#fff; border:1px solid var(--border); border-radius:14px; font-weight:600; cursor:pointer; color:var(--primary);}
.month.completed{background:linear-gradient(135deg,var(--accent),#34d399); color:#fff; border:none;}

/* ---------- MONTH PAGE ---------- */
.month-page{display:none; max-width:960px; margin:32px auto; padding:32px 24px; background:#fff; border-radius:14px; box-shadow:0 8px 24px rgba(0,0,0,.08);}
.month-header{border-bottom:1px solid var(--border); margin-bottom:24px;}
.entry{background:#fafafa; border:1px solid var(--border); border-radius:10px; padding:16px; margin-bottom:20px;}
.entry h3{margin-top:0; color:var(--primary);}

/* ---------- BUTTONS ---------- */
.back-btn{background:var(--primary); color:#fff; border:none; border-radius:10px; padding:10px 16px; cursor:pointer;}
.reset-btn{display:block; margin:30px auto; padding:8px 16px; border-radius:8px; border:1px solid var(--border); background:#fff; cursor:pointer;}

/* ---------- KSB ---------- */
.ksb{background:linear-gradient(transparent 65%, rgba(46,204,113,.35) 65%); padding:0 3px; border-radius:4px; position:relative; cursor:help;}
.ksb::after{content:"ðŸ”"; font-size:.7rem; margin-left:4px;}
.ksb-tooltip{position:absolute; bottom:140%; left:0; background:#1f2933; color:#fff; padding:10px; border-radius:10px; font-size:.8rem; max-width:280px; opacity:0; pointer-events:none; transition:.2s; z-index:50;}
.ksb:hover .ksb-tooltip{opacity:1}

/* ---------- CONTENTS ---------- */
.contents-toggle{position:fixed; top:20px; right:20px; background:var(--primary); color:#fff; border:none; border-radius:10px; padding:8px 14px; z-index:200;}
.contents-overlay{position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; z-index:190;}
.contents-panel{position:fixed; right:-340px; top:0; width:320px; height:100%; background:#fff; box-shadow:-6px 0 20px rgba(0,0,0,.15); padding:20px; transition:.3s; z-index:200; overflow-y:auto;}
.contents-panel.open{right:0;}
.contents-month button{background:none; border:none; font-weight:600; color:var(--primary); cursor:pointer;}
.contents-entry{font-size:.85rem; margin-left:12px; cursor:pointer; color:var(--muted);}
.contents-footer{border-top:1px solid var(--border); margin-top:20px; padding-top:12px;}
.contents-footer button{width:100%; margin-bottom:8px; padding:8px;}
.contents-month.active > button{background:var(--primary); color:#fff; padding:6px 10px; border-radius:8px;}
.contents-entry.active{color:var(--primary); font-weight:600;}

#heatmapGrid{
  display:grid;
  grid-template-columns: 120px repeat(12, 1fr);
  gap:6px;
  margin-top:20px;
}

.heat-cell{
  padding:8px;
  text-align:center;
  border-radius:6px;
  font-size:12px;
}

.heat-verypoor{ background:#f87171}
.heat-poor{ background:#fecaca; }
.heat-average{ background:#fde68a; }
.heat-good{ background:#bbf7d0; }
.heat-verygood{ background:#4ade80; color:#fff; }

.header{
  background:#f3f4f6;
  font-weight:700;
}

.ksb-label{
  font-weight:600;
  background:#f9fafb;
}
